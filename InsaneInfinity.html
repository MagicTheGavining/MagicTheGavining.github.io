<!DOCTYPE html>
<!-- This is based on DillingerLee's great template here:
https://github.com/Team-Code/KA_Offline -->
<html> 
 <head>
 	<link rel="icon" type="image/png" href="favicon.png">
 	<meta charset="utf-8">
    <title>Insane Infinity Ball</title> 
</head>
 <body>
    <p align="center"> 
	<!--This draws the Canvas on the webpage -->
      <canvas id="mycanvas"></canvas> 
    </p>
 </body>
 
 <!-- Run all the JavaScript stuff -->
 <!-- Include the processing.js library -->
 <!-- See https://khanacademy.zendesk.com/hc/en-us/articles/202260404-What-parts-of-ProcessingJS-does-Khan-Academy-support- for differences -->
 <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
 
 <script>
 	var smallestDim = 100; //Smallest dimension I am allowing.
 	if( (window.innerWidth <= window.innerHeight) && (window.innerWidth > 99)){
 		smallestDim = window.innerWidth;
 	} else if( (window.innerWidth > window.innerHeight) && (window.innerHeight > 99)){
 		smallestDim = window.innerHeight;
 	}
    var sketchProc = function(processingInstance) {
     with (processingInstance) {
        size(smallestDim, smallestDim); 
        frameRate(30);
        
        // ProgramCodeGoesHere
/*****************
* Created by MagicTheGavining
* Resizable version: https://magicthegavining.github.io/InsaneInfinity.html
* May 9, 2020
* +Generates "infinity" amount of answers
* (According to Google's calculator)
* +Added word lists to generate
*  "Mad Libs" answers
* +Font scaling function that
*  mostly works!!!
* +Reveal number of possible
*  answers when lower left is clicked
* +Infused with purple spirit power!
* +Switch Statement to replace if/else
* +Different Colored triangles
* +Function to draw triangle
* +∞ Symbol Added
* +Purple liquid behind triangle
* +Ask button and instructions
* +Color changing button
* +Sparks on new answer
*****************/

//Array duplicate removal function
//based on dota2pro's answer on Stack Overflow
//https://stackoverflow.com/questions/1584370/how-to-merge-two-arrays-in-javascript-and-de-duplicate-items
var arrayUnique = function(incommingArray) {
    var currentArray = incommingArray;
    
    for(var i=0; i<currentArray.length; ++i) {
        for(var j=i+1; j<currentArray.length; ++j) {
            if(currentArray[i] === currentArray[j]) {
                currentArray.splice(j--, 1);
            }
        }
    }

    return currentArray;
};

var singleIdentifiers = [" A", "ONE", "THIS", "THE"];
//var multiIdentifiers = [ "ALL", "FOUR", "MANY", "SOME", "THE", "TWO"];
var threeLetterPositiveAdjectives = ["AFT", "APT", "BIG", "COY", "CUT", "DEF", "DRY", "DUE", "DUN", "ECO", "EMO", "FAR", "FAT", "FED", "FEM", "FEY", "FLY", "FUN", "HEP", "HIP", "HIT", "HOT", "ILL", "KEY", "LAO", "LAX", "LIL", "LIT", "LOW", "LUX", "MAX", "MOD", "MUM", "NEW", "OLD", "PET", "PRO", "RED", "SHY", "SLY", "TAI", "TAN", "TIN", "TOP", "TOY", "WAX", "WED", "WEE", "WET", "YUM", "WUD", "ZEN"];
var threeLetterNegativeAdjectives = ["AFT", "BAD", "BUM", "CUT", "DIM", "DRY", "DUD", "DUE", "DUN", "EMO", "FAR", "FAT", "FEM", "FEY", "FOE", "FOU", "ICK", "ICY", "ILL", "LIL", "LIT", "LAO", "LAX", "LOW", "MAD", "MAX", "MEH", "MOD", "MUM", "NEW", "NTH", "ODD", "OFF", "OLD", "PET", "RAW", "RED", "SAD", "SHY", "TAI", "TAN", "TOY", "WAN", "WAX", "WED", "WEE", "WET", "WUD"];

//Merge both above arrays and remove duplicates
var threeLetterAdjectives = threeLetterPositiveAdjectives.concat(threeLetterNegativeAdjectives);
threeLetterAdjectives = arrayUnique(threeLetterAdjectives);

var threeToFourLetterSingleSubjects = ["ABBA", "ACAI", "ACE", "ACID", "ACRE", "ADAM", "ADZE", "AEON", "AGAR", "AIDE", "ALMA", "ALMS", "ALOE", "ALTO", "ALUM", "AMEN", "ANKH", "ANNA", "ANOA", "ANTE", "APEX", "ARAB", "ARCH", "AREA", "ARES", "ARIA", "ARK", "ARM", "ARMY", "ARSE", "ASP", "ATOM", "AUNT", "AURA", "AUTO", "AXIS", "AXLE", "BAAL", "BABY", "BAIT", "BALE", "BALL", "BALM", "BAND", "BAN", "BANI", "BANK", "BAP", "BARB", "BARD", "BARN", "BASE", "BATH", "BAY", "BEAD", "BEAK", "BEAM", "BEAN", "BEAU", "BEEF", "BEER", "BEET", "BELL", "BELT", "BERG", "BETA", "BEY", "BIAS", "BIB", "BIDI", "BIER", "BIKE", "BILE", "BILL", "BIRD", "BLIP", "BLOB", "BLOC", "BOAT", "BOCK", "BODY", "BOAR", "BOGY", "BOLO", "BOLT", "BOMB", "BOND", "BONE", "BOOK", "BOOR", "BOOT", "BOSS", "BOT", "BOWL", "BOZO", "BRAD", "BRAN", "BRIE", "BRIM", "BRO", "BROW", "BRUH", "BUCK", "BULB", "BULL", "BUMF", "BUNK", "BUN", "BUNN", "BUOY", "BURG", "BURR", "BUSH", "BUS", "BUSS", "BUTT", "BYTE", "CADY", "CAFE", "CAGE", "CAKE", "CALF", "CAMP", "CANE", "CAPO", "CARB", "CARD", "CARL", "CART", "CASE", "CASH", "CASK", "CAVE", "CAY", "CEL", "CELL", "CELT", "CENT", "CERE", "CETE", "CHAD", "CHAI", "CHAM", "CHEF", "CHIN", "CHIP", "CHIT", "CHOU", "CHOW", "CHUB", "CIG", "CION", "CIRC", "CIST", "CITY", "CLAM", "CLAN", "CLAW", "CLAY", "CLOD", "CLOT", "CLUB", "CLUE", "COAL", "COAT", "COB", "COCA", "COCO", "CODE", "COG", "COIF", "COIN", "COLA", "COLE", "COLT", "COMB", "COMP", "CONE", "CONY", "COOM", "COON", "COOP", "COOT", "COP", "COPY", "CORB", "CORD", "CORE", "CORF", "CORK", "CORM", "CORN", "COSH", "COT", "COUP", "COVE", "COWL", "COX", "CRAB", "CRAW", "CREW", "CRIB", "CROC", "CROP", "CROW", "CRUD", "CRUX", "CUBE", "CUFF", "CULT", "CURB", "CURD", "CURE", "CUSP", "CYST", "CZAR", "DACE", "DADA", "DADO", "DAD", "DAH", "DAIS", "DALE", "DAME", "DANE", "DATE", "DAWE", "DAWN", "DAY", "DEAN", "DEB", "DEBT", "DECK", "DEED", "DEER", "DELF", "DELI", "DEL", "DELL", "DEMO", "DENT", "DESK", "DEVA", "DHAL", "DHOW", "DIAL", "DIE", "DIET", "DILL", "DIME", "DINK", "DIRK", "DIRT", "DISC", "DISH", "DISK", "DIT", "DJIN", "DOC", "DOCK", "DODO", "DOER", "DOLL", "DOLT", "DOME", "DOOR", "DOPE", "DOR", "DORM", "DORY", "DOVE", "DRAM", "DRAY", "DREG", "DREY", "DROP", "DRUG", "DRUM", "DUCK", "DUCT", "DUDE", "DUET", "DUKE", "DUNE", "DUNG", "DUPE", "DUSK", "DUST", "DYER", "EARL", "EAVE", "ECHO", "EDDY", "EDEN", "EDGE", "EGG", "ELF", "ELK", "EMEU", "EMU", "EMIR", "ENT", "EON", "EPEE", "ERNE", "EROS", "ETUI", "EURO", "EVIL", "EWE", "EXAM", "EXEC", "EXPO", "EYE", "EYER", "FACE", "FACT", "FADO", "FANG", "FAIR", "FARM", "FAT", "FATE", "FAUN", "FAVE", "FAWN", "FEAR", "FEME", "FEN", "FERE", "FERN", "FIAT", "FILM", "FINK", "FISH", "FIFE", "FIST", "FIVE", "FIZZ", "FLAB", "FLAG", "FLAK", "FLAW", "FLAX", "FLEA", "FLOE", "FLUE", "FLUX", "FOAL", "FOAM", "FOG", "FOGY", "FOHN", "FOLK", "FON", "FONT", "FOOD", "FOOL", "FOOT", "FORD", "FORK", "FORM", "FORT", "FOUR", "FOWL", "FRA", "FRAT", "FROG", "FUEL", "FUME", "FUNK", "FUR", "FURY", "FUSE", "FUSS", "FUZE", "FUZZ", "KING", "LICH", "LORD", "MANA", "MANX", "NAVE", "NAVY", "NEON", "NERD", "NOVA", "PUCK", "PUNK", "QUAY", "RAJA", "REED", "REIN", "SCOT", "SITH", "SLUG"];

var fiveToSixLetterSingleSubjects = ["ABBOT", "ABYSS", "ACORN", "ACTOR", "ADDER", "ADMIN", "ADULT", "AERIE", "AGATE", "AGAVE", "AGENDA", "AGENT", "ALDER", "ALGAE", "ALIEN", "ALLAH", "ALLEY", "ALLOY", "ALTAR", "AMBER", "AMOUR", "ANGEL", "ANGLE", "ANGLO", "ANIME", "ANION", "ANKLE", "AORTA", "APHID", "APPLE", "APRIL", "APRON", "ARIES", "ARROW", "ASSET", "ATLAS", "ATOLL", "AXIOM", "AXMAN", "AZTEC", "BABOON", "BACON", "BALDY", "BALER", "BALSA", "BAKER", "BANJO", "BARDE", "BARGE", "BARRON", "BATCH", "BATON", "BAYOU", "BAZAR", "BAZAAR", "BEACH", "BEARD", "BEAST", "BEAUT", "BEAUTY", "BEECH", "BEING", "BELLE", "BELLY", "BENCH", "BENNY", "BEZEL", "BIBLE", "BICEP", "BIDDY", "BIDET", "BIGOT", "BIKER", "BILBO", "BILLY", "BIMBO", "BIPED", "BISON", "BITER", "BLADE", "BLAZE", "BLIMP", "BLOCK", "BLOKE", "BLOOD", "BLOOM", "BOARD", "BOBBY", "BOGEY", "BONNIE", "BORAX", "CABAL", "CAMEO", "CANDY", "CANOE", "DADDA", "DADDY", "DEMON", "DEVIL", "DIETY", "DJINN", "DRAGON", "EGGLER", "ELBOW", "FAERY", "FAIRY", "FELLOW", "GAZER", "GECKO", "GENIE", "GIANT", "HARPY", "HEART", "HELIX", "HOBBIT", "ICHOR", "IDIOT", "IGLOO", "INKER", "JELLY", "JENNY", "JESTER", "JEWEL", "JOKER", "KABOB", "KITTEN", "KITTY", "KNAVE", "KNIGHT", "LAPIS", "LEMON", "LEMUR", "LETCH", "LIVER", "LLAMA", "LOOTER", "LORIS", "LOVER", "MA\'AM", "MACAW", "MACER", "MADAM", "MAGIC", "MAJICK", "MAMMY", "MANGO", "MANKS", "MANNA", "MAPLE", "MASON", "MATCH", "MAVEN", "MELON", "METER", "MIDAS", "MODEL", "MOMMA", "MOMMY", "MOREL", "MOSES", "MULLAH", "NABOB", "NACHO", "NAMER", "NANNY", "NARCO", "NERVE", "NIGHT", "NOOSE", "NOTCH", "NOTER", "NOVEL", "NOZZLE", "NURSE", "NYMPH", "OBEAH", "OCEAN", "OCTET", "OFFAL", "OKAPI", "OLDIE", "OLEIN", "OLIVE", "OMEGA", "ONION", "OPIUM", "ORACLE", "ORGAN", "ORIEL", "ORION", "OTTER", "OWLET", "OXEYE", "OXFLY", "OXLIP", "PRAWN", "PRIZE", "PRONG", "PROSE", "PRUNE", "PSALM", "PUKER", "PUPIL", "PURSE", "PUTTY", "PYLON", "PYRUS", "PYXLE", "QUAIL", "QUART", "QUEAN", "QUEEN", "QUEUE", "QUILL", "QUILT", "QUIRE", "RABBI", "RACER", "RAKER", "RAMEN", "RANCH", "RATIO", "RAVEN", "RAZER", "REBEL", "RELAY", "RELIC", "RESIN", "RESUME", "RHINE", "RHINO", "RIDER", "RIDGE", "RIFLE", "RISER", "RIVAL", "RIVER", "RIVET", "ROACH", "ROBBER", "ROBIN", "ROBOT", "RODEO", "ROGUE", "ROMAN", "RONDO", "ROOST", "ROUTE", "ROVER", "RUBIN", "RULER", "RUMOR", "RUNER", "RUNNER", "RUPEE", "SABLE", "SABRE", "SALON", "SALSA", "SATYR", "SAUDI", "SAUNA", "SAWYER", "SAXON", "SAYER", "SCALE", "SCALP", "SCAMP", "SCARF", "SCENE", "SCENT", "SCHWA", "SCION", "SCONE", "SCOOP", "SCOPE", "SCOUT", "SCRAP", "SCREW", "SCRIPT", "SCRUMM", "SENSE", "SCEPTA", "SERUM", "SEWER", "SHACK", "SHADD", "SHADE", "SHAFT", "SHAIK", "SHALE", "SHANK", "SHAPE", "SHARD", "SHARK", "SHAWL", "SHEEP", "SHEET", "SHEIK", "SHEOL", "SHIRE", "SHIRT", "SHOJI", "SHORE", "SHRED", "SHREW", "SHRUB", "SICKO", "SIEVE", "SINUS", "SIOUX", "SIREN", "SITAR", "SITHE", "SKATE", "SKEAN", "SKEIN", "SKIER", "SKIRT", "SKULL", "SKUNK", "SLEET", "SLICE", "SLIME", "SLING", "SLOOP", "SLOTH", "SMIRK", "SMITH", "SMOCK", "SMOKE", "SNACK", "SNAIL", "SNAKE", "SNARE" ];

/* //Check for nouns less than five letters in list
for(var i = 0; i < fiveToSixLetterSingleSubjects.length; i++){
    if(fiveToSixLetterSingleSubjects[i].length < 5) {
        println(fiveToSixLetterSingleSubjects[i]);
    }
}
*/

//Human Speach/Writing Communication Verbs
var fiveToEightLetterVerbs = [ "BARKING", "BAWLING", "BELTING", "BLABBING", "BURPING", "CALLING", "CRYING", "GUSHING", "HISSING", "HOOTING", "JOTTING", "MOANING", "MOUTHING", "PANTING", "PIPING", "PUFFING", "RASPING", "SHOUTING", "SIGHING", "SPEWING", "SPOUTING", "TEXTING", "TYPING", "WAILING", "WRITING", "YAWNING", "YELLING", "YELPING"];

//Old Verb list
//var fiveToEightLetterVerbs = [ "AVOWING", "BAKING", "BANGING", "BARFING", "BARKING", "BASHING", "BAWLING", "BEAMING", "BEATING", "BEEPING", "BELTING", "BIFFING", "BIRRING", "BITING", "BLABBING", "BLATTING", "BLOBBING", "BLOWING", "BOLTING", "BONKING", "BOOMING", "BRAGGING", "BRAYING", "BREWING", "BUCKING", "BUMPING", "BUNTING", "BURPING", "BUSTING", "BUZZING", "CALLING", "CASTING", "CHALKING", "CHARRING", "CHATTING", "CHAWING", "CHEWING", "CHIPPING", "CHUGGING", "CITING", "CLAPPING", "CLIPPING", "CLOGGING", "CLOPPING", "CODING", "COIFING", "COMBING", "CONKING", "COOKING", "COPYING", "CRAMMING", "CUFFING", "CUSSING", "DABBING", "DANCING", "DAUBING", "DEALING", "DENTING", "DIALING", "DINGING", "DISHING", "DRAWING", "DRUBBING", "DRUMMING", "DUMPING", "EASING", "ECHOING", "EMITTING", "ETCHING", "FIZZING", "FLAPPING", "FLITTING", "FLOGGING", "FLOPPING", "FLUXING", "FOAMING", "FOLDING", "FORGING", "FORMING", "FRAYING", "FRETTING", "FUNKING", "GASPING", "GIFTING", "GIVING", "GLOWING", "GNASHING", "GNAWING", "GONGING", "GRITTING", "GROWING", "GULPING", "GUSHING", "HACKING", "HAILING", "HALING", "HARKING", "HARPING", "HASHING", "HINTING", "HISSING", "HONKING", "HOOTING", "HOPPING", "HOWLING", "HUFFING", "HUSHING", "INCHING", "JELLING", "JEERING", "JIVING", "JOKING", "JOTTING", "KICKING", "KNITTING", "LASHING", "LEAKING", "LEAPING", "LEERING", "LIPPING", "LISPING", "LISTING", "LOFTING", "LOLLING", "LULLING", "LUMPING", "MAILING", "MARKING", "MASHING", "MAULING", "MEOWING", "MILLING", "MIMING", "MINING", "MINTING", "MOANING", "MOCKING", "MOLDING", "MOPING", "MOSHING", "MOUTHING", "MULLING", "MUSHING", "NAILING", "NAMING", "NICKING", "OINKING", "OOZING", "PANTING", "PEALING", "PECKING", "PEELING", "PEEPING", "PELTING", "PICKING", "PINGING", "PIPING", "PLODDING", "PLOPPING", "PLUCKING", "PLUGGING", "PLUNGING", "POKING", "POURING", "POUTING", "PUFFING", "PUKING", "PUMPING", "PURLING", "PURRING", "PUTTING", "QUIPPING", "RAILING", "RAINING", "RANTING", "RASPING", "RAVING", "RAZZING", "RINGING", "ROARING", "ROCKING", "ROMPING", "SAYING", "SEEPING", "SENDING", "SHARING", "SHINING", "SHOOTING", "SHOUTING", "SHOWING", "SIFTING", "SIGHING", "SIGNING", "SKIDDING", "SKIPPING", "SLAPPING", "SLUGGING", "SLURPING", "SLURRING", "SNAPPING", "SNIPPING", "SNOGGING", "SNUBBING", "SOCKING", "SPAMMING", "SPELLING", "SPEWING", "SPINNING", "SPITTING", "SPURRING", "STABBING", "STEPPING", "STUBBING", "SWATTING", "SWIMMING", "TACKING", "TACKLING", "TALKING", "TAPPING", "TEARING", "TELLING", "TEXTING", "THUDDING", "TICKING", "TILLING", "TINGING", "TOCKING",  "TOLLING", "TONING", "TOOTING", "TOSSING", "TRIMMING", "TROTTING", "TUNING", "TURNING", "TYPING", "URGING", "VENDING", "VOWING", "WAFTING", "WAILING", "WAVING", "WEAVING", "WEEPING", "WELDING", "WELTING", "WHIPPING", "WHIRRING", "WHIZZING", "WHOOPING", "WHOPPING", "WILLING", "WINKING",  "WIRING", "WISHING", "WRITING", "YACKING", "YANKING", "YAWNING", "YELLING", "YELPING"];

var threeToTenLetterPositive = [ "ABSOLUTELY", "ALRIGHT", "ALRIGHTY", "ALWAYS", "YEP ALWAYS", "YES ALWAYS", "YEP AMEN", "YES AMEN", "A-OKAY", "AN A-OKAY", "APPROVED", "ASSUREDLY", "AN AYE", "AYE AYE", "YOU BET", "BRILLIANT", "CERTAINLY", "YEP CHEER", "YES CHEER",  "OF COURSE", "TRUE DAT", "DEFINITELY", "OKIE DOKIE", "IT'S FINE", "JUST FINE", "A FORSOOTH", "FORSOOTH", "GRANTED", "YES INDEED", "YEP INDEED", "A JA", "JA", "AN MHMM", "MMHMMM", "NATURALLY", "WHY NOT?", "AN OK", "AN OKAY", "IT'S ON", "SPOT ON", "RIGHT ON", "POSITIVELY", "ALL RIGHT", "A RIGHTO", "RIGHTO",  "ALL RIGHTY", "A ROGER", "I SUPPOSE", "SUPPOSE SO", "YES SIR", "JUST SO", "FOR SURE", "A SURELY", "SURELY", "ROGER THAT", "A TOTES", "TOTES", "UH-HUH", "A VERILY", "VERILY", "VERY WELL", "YAAAS", "A VOTE YEA", "A YEA", "A YEAH", "HECK YEAH", "A YEP", "YEP", "A YES", "A FINE YES", "YES", "YES, YES", "A YESSIR", "YESSIR", "A YUP", "YUP", "A YUPPERS", "YUPPERS"];
var threeToTenLetterNegative = [ "IMPOSSIBLE", "A SOLID NO", "BAD NEWS", "BOO, NAY", "A NAH", "NAH", "BOO, NO", "BOO, NOPE", "CURSED, NO", "DANG, NAY", "NEIN", "NEVER", "NO, NEVER", "DANG, NO", "DANG, NOPE", "DARN, NAY", "DARN, NIX", "DARN, NO", "DARN, NOPE", "DEARY, NO", "DRAT, NAY", "DRAT, NIX", "DRAT, NO", "DRAT, NOPE",  "FAIL, NO", "GEEZ, NO", "GEEZ, NAY", "GLUM, NAY", "GLUM, NO", "GLUM, NOPE", "GOLLY NO", "GOSH NO", "GOSH NOPE", "HECK NO", "JUST NO", "NAY", "NEVER", "NO CAN DO", "NO DICE", "NO LUCK", "NONO, NO", "NOT NOW", "NO WAY", "A NOPE", "NOPE", "ODIOUS, NO", "OUCH, NO", "OUCH, NOPE", "NOT LIKELY", "POOH, NO", "POOH, NOPE", "RATS, NO", "SAD, NO", "SAD, NOPE", "SADLY, NO", "SHOVE OFF", "SHUCKS, NO", "SORRY, NO", "UH-UH", "NO", "NO CHANCE", "NO GOOD", "NOOOO", "NOPE", "NO SIR", "NOT LIKELY", "NUH-UH", "NO WAY", "NYET", "OH MY, NO", "UHH, NO" ];
var threeToTenLetterNeutral = [ "TRY AGAIN", "ASSUMABLY", "IT'S BLURRY", "TOO BLURRY", "BY CHANCE", "IT'S CLOUDY", "TOO CLOUDY", "DEPENDS", "A DEPENDS", "IT DEPENDS", "I DUNNO", "TOO ELUSIVE", "IT'S FOGGY", "TOO FOGGY", "IT'S FUZZY", "TOO FUZZY", "IT'S GAUZY", "TOO GAUZY", "HAPLY", "A HAPLY", "IT'S HAZY", "TOO HAZY", "IT'S IFFY", "TOO IFFY", "WITH LUCK", "BY LUCK", "MAYBE", "A MAYBE", "LIKE MAYBE", "WE'LL SEE", "NOT SURE", "IT'S OPAQUE", "TOO OPAQUE", "TOO SMEARED", "IT'S SMOGGY", "TOO SMOGGY", "IT'S SMOKY", "TOO SMOKY", "TENABLE", "A TENABLE", "TENABLY", "UH MAYBE", "AN UNCLEAR", "AN UNSURE", "I'M UNSURE", "IT'S VAGUE", "TOO VAGUE", "VIABLY", "A VIABLY", "IT'S VEILED", "TOO VEILED", "IF WILLING", "IT'S WOBBLY", "TOO WOBBLY", "A PERHAPS", "PERHAPS", "PLAUSIBLY", "POSSIBLY", "A POSSIBLY", "PERCHANCE", "MAYHAP", "A MAYHAP", "COULD BE", "FEASIBLY", "A FEASIBLY", "MIGHT BE", "IT MAY BE", "YES AND NO", "IT CAN BE", "I HOPE SO", "CAN'T TELL", "PERCASE", "A PERCASE", "UNKNOWN", "AN UNKNOWN"];

//Obtain dimensions from canvas size, so it can adjust to screen/browser on startup
var canvasCenter = width/2;
var mainBallSize = (width * 0.7625);
var purpleLiquidSize = (width * 0.445);
var mainWhiteCircleY = (height * 0.1875);
var mainWhiteCircleWidth = (width * 0.245);
var mainWhiteCircleHeight = (height * 0.1175);

var miniBallCenterX = (width * 0.93);
var miniBallCenterY = (height * 0.863);
var miniBallSize = (width * 0.045);
var miniWhiteCircleSize = (width * 0.03);
var miniInfinityX = (width * 0.922);
var miniInfinityY = (height * 0.871);

var triangleTopPeakY = (height * 0.3075);
var triangleBottomRightCornerX = (width * 0.6775);
var triangleBottomCornersY = (height * 0.62);
var triangleBottomLeftCornerX = (width * 0.3225);

var askButtonX = (width * 0.75);
var askButtonY = (height * 0.793);
var askButtonWidth = (width * 0.2175);
var askButtonHeight = (height * 0.125);
var askTextX = (width * 0.7825);
var askTextY = (height * 0.88);
var askRightEdge = (askButtonX + askButtonWidth);
var askBottomEdge = (askButtonY + askButtonHeight);

var textAX = (width * 0.46);
var textAY = (height * 0.4625);
var textBX = (width * 0.4075);
var textBY = (height * 0.505);
var textCX = (width * 0.385);
var textCY = (height * 0.5475);
var textDX = (width * 0.36);
var textDY = (height * 0.59);

var numX = (width * 0.02);
var numY = (height  * 0.791);
var numWidth = (width * 0.475);
var numHeight = (height * 0.21);
var numRightEdge = (numX + numWidth);
//var numBottomEdge = (numY + numHeight); same as "height"

var strokeWeight12 = round(width * 0.03);
var strokeWeight10 = round(width * 0.025);
var strokeWeight8 = round(width * 0.02);
var strokeWeight5 = round(width * 0.0125);
var strokeWeight4 = round(width * 0.01);
var strokeWeight2 = round(width * 0.005);

//Global variables used in animations
var colorShift = 0;
var increaseColor = true;
var magicSparks = false;
var fadeInAnswer = false;
var alphaAnswer = 0;
var sparkDistance = 0;
var sparkSizeA = 3;
var sparkSizeB = 3;
var sparkSizeC = 3;
var sparkSizeD = 3;
var sparkDistanceModifier = round(width * 0.0025);
var glowing8X = (width * 0.4625);
var glowing8Y = (height * 0.22);
var coverOpacity = 255;


//Background
var START_BG_RED = 0;
var START_BG_GREEN = 187;
var START_BG_BLUE = 224;
var bgRed = START_BG_RED;
var bgGreen = START_BG_GREEN;
var bgBlue = START_BG_BLUE;

//Defining an upper limit on # of answers
var UPPER_LIMIT = 5;
var answer = UPPER_LIMIT;


//Making sure the text answers have a standard size
//and appearance with a monospace font
var fontMono = createFont("monospace");


//Since there is no direct pixel size to font
//size relation, this is what I use for scaling
//monotype text to larger or smaller sizes.
var scaleTextSize = function (originalSize){
    var newTextSize = (originalSize * (6/15)) / 400;
    newTextSize = ((newTextSize * width) * (15/6));
    return newTextSize;
};


var storedAnswerTriangle = {
    triangleColor: color(0, 187, 224),
    textColor: color(0),
    sizeForText: scaleTextSize(11),
    messageLineA: "THINK",
    messageLineB: "OF A YES OR",
    messageLineC: " NO QUESTION,",
    messageLineD: "  THEN ASK ME!!"
};

//Scaling text sizes for ∞ Ball and Buttons
var askTextSize = scaleTextSize(25);
var bigInfinityTextSize = scaleTextSize(50);
var miniInfinityTextSize = scaleTextSize(11);
var revealTextSize = scaleTextSize(14);
var main8X = ((width * 0.5) -  (bigInfinityTextSize * 0.29));
var main8Y = (height * 0.2175);

//Draw the triangle inside the ∞ Ball using this function
//tri is the incoming answer triangle parts.
var drawTriangle = function(tri){
    fill(tri.triangleColor);
    triangle(canvasCenter, triangleTopPeakY, triangleBottomRightCornerX, triangleBottomCornersY, triangleBottomLeftCornerX, triangleBottomCornersY);
    fill(tri.textColor);
    textSize(tri.sizeForText);
    text(tri.messageLineA, textAX, textAY);
    text(tri.messageLineB, textBX, textBY);
    text(tri.messageLineC, textCX, textCY);
    text(tri.messageLineD, textDX, textDY);
};


/***************************
 * Function: generateRandomAffirmativeA
 * Generates a random affirmative answer triangle
 * Storing it in global variable storedAnswerTriangle
 * Form: One/A/An/The/This
 * (3 letter positive adjective) (3 to 6 letter singular subject)
 * Is (verb ending in "ing")
 * Out (synonym/phrase of Yes)
***************************/
var generateRandomAffirmativeA = function(){

    var storedSingleSubject;
    
    //Same as random true = 1 and false = 0
    if(floor(random(0,2))) {
        storedSingleSubject = fiveToSixLetterSingleSubjects[floor(random(0, fiveToSixLetterSingleSubjects.length))];
    } else {
        storedSingleSubject = threeToFourLetterSingleSubjects[floor(random(0, threeToFourLetterSingleSubjects.length))];
    }
    
    storedAnswerTriangle = {
        triangleColor: color(0, 92, 12),
        textColor: color(255, 217, 0),
        sizeForText: scaleTextSize(13),
        messageLineA: singleIdentifiers[floor(random(0, singleIdentifiers.length))],
        messageLineB: threeLetterPositiveAdjectives[floor(random(0, threeLetterPositiveAdjectives.length))] + " " +         storedSingleSubject,
        messageLineC: "IS " + fiveToEightLetterVerbs[floor(random(0, fiveToEightLetterVerbs.length))],
        messageLineD: "OUT " + threeToTenLetterPositive[floor(random(0, threeToTenLetterPositive.length))] + "!!"
    };
    
    //Change A to AN for vowel adjectives
    if(storedAnswerTriangle.messageLineA[1] === 'A'){
        switch(storedAnswerTriangle.messageLineB[0]){
            case 'A':
            case 'E':
            case 'I':
            case 'O':
            case 'U':
                storedAnswerTriangle.messageLineA = "AN";
            break;
            //Since NTH is pronounced "EN-TH", need AN instead of A
            case 'N':
                if(storedAnswerTriangle.messageLineB[1] === 'T') {
                    storedAnswerTriangle.messageLineA = "AN";
                }
            break;
        }
    }
    
};

/***************************
 * Function: generateRandomAffirmativeB
 * Generates a random affirmative answer triangle
 * Storing it in global variable storedAnswerTriangle
 * Form: By
 * (3 to 6 letter singular subject)! The
 * (3 letter positive adjective) answer
 * Is (synonym/phrase of Yes)
***************************/
var generateRandomAffirmativeB = function(){
    
    var storedSingleSubject;
    
    //Same as random true = 1 and false = 0
    if(floor(random(0,2))) {
        storedSingleSubject = fiveToSixLetterSingleSubjects[floor(random(0, fiveToSixLetterSingleSubjects.length))];
    } else {
        storedSingleSubject = threeToFourLetterSingleSubjects[floor(random(0, threeToFourLetterSingleSubjects.length))];
    }
    
    storedAnswerTriangle = {
        triangleColor: color(0, 92, 12),
        textColor: color(255, 217, 0),
        sizeForText: scaleTextSize(13),
        messageLineA: "BY",
        messageLineB: storedSingleSubject + "! THE",
        messageLineC: threeLetterPositiveAdjectives[floor(random(0, threeLetterPositiveAdjectives.length))] + " ANSWER",
        messageLineD: "IS " + threeToTenLetterPositive[floor(random(0, threeToTenLetterPositive.length))] + "!!"
    };
};


/***************************
 * Function: generateRandomNegativeA
 * Generates a random negative answer triangle
 * Storing it in global variable storedAnswerTriangle
 * Form: One/A/An/The/This
 * (3 letter negative adjective) (3 to 6 letter singular subject)
 * Is (verb ending in "ing")
 * Out (synonym/phrase of No)
***************************/
var generateRandomNegativeA = function(){
    
    var storedSingleSubject;
    
    //Same as random true = 1 and false = 0
    if(floor(random(0,2))) {
        storedSingleSubject = fiveToSixLetterSingleSubjects[floor(random(0, fiveToSixLetterSingleSubjects.length))];
    } else {
        storedSingleSubject = threeToFourLetterSingleSubjects[floor(random(0, threeToFourLetterSingleSubjects.length))];
    }
    
    storedAnswerTriangle = {
        triangleColor: color(255, 0, 0),
        textColor: color(0),
        sizeForText: scaleTextSize(13),
        messageLineA: singleIdentifiers[floor(random(0, singleIdentifiers.length))],
        messageLineB: threeLetterNegativeAdjectives[floor(random(0, threeLetterNegativeAdjectives.length))] + " " +         storedSingleSubject,
        messageLineC: "IS " + fiveToEightLetterVerbs[floor(random(0, fiveToEightLetterVerbs.length))],
        messageLineD: "OUT " + threeToTenLetterNegative[floor(random(0, threeToTenLetterNegative.length))] + "!!"
    };
    
    //Change A to AN for vowel adjectives
    if(storedAnswerTriangle.messageLineA[1] === 'A'){
        switch(storedAnswerTriangle.messageLineB[0]){
            case 'A':
            case 'E':
            case 'I':
            case 'O':
            case 'U':
                storedAnswerTriangle.messageLineA = "AN";
            break;
            //Since NTH is pronounced "EN-TH", need AN instead of A
            case 'N':
                if(storedAnswerTriangle.messageLineB[1] === 'T') {
                    storedAnswerTriangle.messageLineA = "AN";
                }
            break;
        }
    }
    
};


/***************************
 * Function: generateRandomNegativeB
 * Generates a random negative answer triangle
 * Storing it in global variable storedAnswerTriangle
 * Form: Oh
 * (3 to 6 letter singular subject)! The
 * (3 letter negative adjective) answer
 * Is (synonym/phrase of No)
***************************/
var generateRandomNegativeB = function(){
    
    var storedSingleSubject;
    
    //Same as random true = 1 and false = 0
    if(floor(random(0,2))) {
        storedSingleSubject = fiveToSixLetterSingleSubjects[floor(random(0, fiveToSixLetterSingleSubjects.length))];
    } else {
        storedSingleSubject = threeToFourLetterSingleSubjects[floor(random(0, threeToFourLetterSingleSubjects.length))];
    }
    
    storedAnswerTriangle = {
        triangleColor: color(255, 0, 0),
        textColor: color(0),
        sizeForText: scaleTextSize(13),
        messageLineA: "OH",
        messageLineB: storedSingleSubject + "! THE",
        messageLineC: threeLetterNegativeAdjectives[floor(random(0, threeLetterNegativeAdjectives.length))] + " ANSWER",
        messageLineD: "IS " + threeToTenLetterNegative[floor(random(0, threeToTenLetterNegative.length))] + "!!"
    };
};


/***************************
 * Function: generateRandomNeutral
 * Generates a random affirmative answer triangle
 * Storing it in global variable storedAnswerTriangle
 * Form: One/A/An/The/This
 * (3 letter positive or negative adjective) (3 to 6 letter singular subject)
 * Is (verb ending in "ing")
 * Out (synonym/phrase of maybe)
***************************/
var generateRandomNeutral = function(){
    
    var storedSingleSubject;
    
    //Same as random true = 1 and false = 0
    if(floor(random(0,2))) {
        storedSingleSubject = fiveToSixLetterSingleSubjects[floor(random(0, fiveToSixLetterSingleSubjects.length))];
    } else {
        storedSingleSubject = threeToFourLetterSingleSubjects[floor(random(0, threeToFourLetterSingleSubjects.length))];
    }
    
    storedAnswerTriangle = {
        triangleColor: color(247, 255, 0),
        textColor: color(128, 107, 3),
        sizeForText: scaleTextSize(13),
        messageLineA: singleIdentifiers[floor(random(0, singleIdentifiers.length))],
        messageLineB: threeLetterAdjectives[floor(random(0, threeLetterAdjectives.length))] + " " + storedSingleSubject,
        messageLineC: "IS " + fiveToEightLetterVerbs[floor(random(0, fiveToEightLetterVerbs.length))],
        messageLineD: "OUT " + threeToTenLetterNeutral[floor(random(0, threeToTenLetterNeutral.length))] + "."
    };
    
    //Change A to AN for vowel adjectives
    if(storedAnswerTriangle.messageLineA[1] === 'A'){
        switch(storedAnswerTriangle.messageLineB[0]){
            case 'A':
            case 'E':
            case 'I':
            case 'O':
            case 'U':
                storedAnswerTriangle.messageLineA = "AN";
            break;
            //Since NTH is pronounced "EN-TH", need AN instead of A
            case 'N':
                if(storedAnswerTriangle.messageLineB[1] === 'T') {
                    storedAnswerTriangle.messageLineA = "AN";
                }
            break;
        }
    }
};

//Generate a random number out of UPPER_LIMIT
//number of possible values.
var askInfinityBall = function(){
    answer = floor(random(0, UPPER_LIMIT));
    
    switch(answer ) {
        case 0:
            generateRandomAffirmativeA();
        break;
        case 1:
            generateRandomAffirmativeB();
        break;
        case 2:
            generateRandomNegativeA();
        break;
        case 3:
            generateRandomNegativeB();
        break;
        case 4:
            generateRandomNeutral();
        break;
        default: //Impossible answer to start
            storedAnswerTriangle = {
                triangleColor: color(0, 187, 224),
                textColor: color(0),
                sizeForText: scaleTextSize(11),
                messageLineA: "THINK",
                messageLineB: "OF A YES OR",
                messageLineC: " NO QUESTION,",
                messageLineD: "  THEN ASK ME!!"
            };
        
    }
};

draw = function() {
    
    
    //Background fading out
    if (magicSparks && bgRed > 0){
        bgRed -= 3;
    }
    if (magicSparks && bgGreen > 0){
        bgGreen -= 3;
    }
    if (magicSparks && bgBlue > 0){
        bgBlue -= 3;
    }
    
    //Background fading in
    if (!magicSparks && bgRed < START_BG_RED) {
        bgRed++;
    }
    if (!magicSparks && bgGreen < START_BG_GREEN) {
        bgGreen++;
    }
    if (!magicSparks && bgBlue < START_BG_BLUE) {
        bgBlue++;
    }
    
    background(bgRed, bgGreen, bgBlue);
    
    
    textFont(fontMono, 20); //Make a default text
    
    //Draw the Infinity Ball
    fill(148);
    ellipse(canvasCenter, canvasCenter, mainBallSize, mainBallSize);
    
    //Purple liquid
    fill(45, 0, 82);
    ellipse(canvasCenter, canvasCenter, purpleLiquidSize, purpleLiquidSize);
    
    //Infinity Ball label
    fill(0, 187, 224);
    ellipse(canvasCenter, mainWhiteCircleY, mainWhiteCircleWidth, mainWhiteCircleHeight);
    fill(0);
    textSize(bigInfinityTextSize);
    text("∞", main8X, main8Y);
    
    //Asking Button
    strokeWeight(strokeWeight4);
    stroke(0);
    
    //Cycle Ask button between dark and light blue
    if( colorShift >= 80 && increaseColor){
        increaseColor = false;
    } else if(increaseColor && colorShift <=80){
        colorShift = colorShift + 1;
    } else if (colorShift >= 0 && !increaseColor){
        colorShift--;
    } else { //colorShift has dropped below 0
        increaseColor = true;
    }
    fill((45 + colorShift), (0 + colorShift), (82 + colorShift));
    //45, 0, 82

        rect(askButtonX, askButtonY, askButtonWidth, askButtonHeight, strokeWeight4);
    fill(0, 187, 224);
    textSize(askTextSize);
    text("Ask", askTextX, askTextY);
    
    //Draw mini Infinity Ball
    stroke(148);
    fill(148);
    ellipse(miniBallCenterX, miniBallCenterY, miniBallSize, miniBallSize);
    fill(0, 187, 224);
    ellipse(miniBallCenterX, miniBallCenterY, miniWhiteCircleSize, miniWhiteCircleSize);
    fill(0);
    textSize(miniInfinityTextSize);
    text("∞", miniInfinityX, miniInfinityY);
    stroke(0);
    strokeWeight(strokeWeight2);
    
    //Reveal amount of possible answers
    textSize(revealTextSize);
    if(fadeInAnswer) {
        alphaAnswer += 2;
    } else {
        alphaAnswer = 0;
    }
    fill(242, 255, 0, alphaAnswer);
    text("The ∞ Ball has:\n(((" +
    threeLetterPositiveAdjectives.length + "^" + (threeToFourLetterSingleSubjects.length + fiveToSixLetterSingleSubjects.length) + ")^" + fiveToEightLetterVerbs.length + ")^" + threeToTenLetterPositive.length  + ") +\n" +
    "(((" + threeLetterNegativeAdjectives.length + "^" + (threeToFourLetterSingleSubjects.length + fiveToSixLetterSingleSubjects.length) + ")^" + fiveToEightLetterVerbs.length + ")^" + threeToTenLetterNegative.length  + ") +\n" +
    "(((" + (threeLetterAdjectives.length) + "^" + (threeToFourLetterSingleSubjects.length + fiveToSixLetterSingleSubjects.length) + ")^" + fiveToEightLetterVerbs.length + ")^" + threeToTenLetterNeutral.length  + ")\n" +
"possible responses.", numX, numY, numWidth, numHeight);
    
    drawTriangle(storedAnswerTriangle);
    
    var tempTriangle = {
            triangleColor: color(45, 0, 82, coverOpacity)
    };
    
    if(magicSparks && sparkDistance < 85){
        strokeWeight(random(strokeWeight4, strokeWeight12));
        stroke(color(45, 0, 82, 220));
        drawTriangle(tempTriangle);
        fill(255, 0, 0, floor(random(100, 256)));
        ellipse(canvasCenter, canvasCenter + sparkDistance, sparkSizeA, sparkSizeA);
        ellipse(canvasCenter + sparkDistance, canvasCenter, sparkSizeC, sparkSizeC);
        ellipse(canvasCenter + (sparkDistance/1.7), canvasCenter + (sparkDistance/1.7), sparkSizeB, sparkSizeB);
        ellipse(canvasCenter + (sparkDistance/1.7), canvasCenter - (sparkDistance/1.7), sparkSizeD, sparkSizeD);
        ellipse(canvasCenter - (sparkDistance/1.7), canvasCenter + (sparkDistance/1.7), sparkSizeD, sparkSizeD);
        ellipse(canvasCenter - (sparkDistance/1.7), canvasCenter - (sparkDistance/1.7), sparkSizeB, sparkSizeB);
        ellipse(canvasCenter - sparkDistance, canvasCenter, sparkSizeC, sparkSizeC);
        ellipse(canvasCenter, canvasCenter - sparkDistance, sparkSizeA, sparkSizeA);
        sparkSizeA = floor(random(1, strokeWeight8));
        sparkSizeB = floor(random(1, strokeWeight12));
        sparkSizeC = floor(random(1, strokeWeight10));
        sparkSizeD = floor(random(1, strokeWeight5));
        sparkDistance += sparkDistanceModifier;
        coverOpacity -= 1;
        textSize(bigInfinityTextSize + sparkSizeD);
        fill(150, 0, 230);
        text("∞", glowing8X, glowing8Y);
    } else {
        sparkDistance =0;
        coverOpacity = 255;
        magicSparks = false;
        stroke(0);
    }

};

mouseClicked = function(){
    //Check for Clicking of Ask Button
    if ((mouseX >= askButtonX && mouseX <askRightEdge) && (mouseY >= askButtonY && mouseY <= askBottomEdge)){
        askInfinityBall();
        magicSparks = true;
    }
    
    //Check for revealing amount of answers
    if ((mouseX >= numX && mouseX <numRightEdge) && (mouseY >= numY && mouseY <= height)){
        fadeInAnswer  = true;
    } else {
        fadeInAnswer = false;
    }
};
    }};

    // Get the canvas that Processing-js will use
    var canvas = document.getElementById("mycanvas"); 
    // Pass the function sketchProc (defined in myCode.js) to Processing's constructor.
    var processingInstance = new Processing(canvas, sketchProc); 
 </script>

</html>
